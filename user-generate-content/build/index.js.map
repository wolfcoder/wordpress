{"version":3,"file":"index.js","mappings":"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","sources":["webpack://wplain/./src/module/MyNotes.js","webpack://wplain/external window \"jQuery\"","webpack://wplain/webpack/bootstrap","webpack://wplain/webpack/runtime/compat get default export","webpack://wplain/webpack/runtime/define property getters","webpack://wplain/webpack/runtime/hasOwnProperty shorthand","webpack://wplain/webpack/runtime/make namespace object","webpack://wplain/./src/index.js"],"sourcesContent":["import $ from 'jquery';\r\n\r\nclass MyNotes {\r\n    constructor() {\r\n        this.events();\r\n    }\r\n\r\n    events() {\r\n        $(\"#my-notes\").on('click', '.delete-note', this.deleteNote);\r\n        $(\"#my-notes\").on('click', '.edit-note', this.editNote.bind(this));\r\n        $(\"#my-notes\").on('click', '.update-note', this.updateNote.bind(this));\r\n        $('.submit-note').on('click', this.createNote.bind(this));\r\n    }\r\n\r\n    // Method\r\n    editNote(e) {\r\n        let thisNote = $(e.target).parents(\"div\");\r\n        if (thisNote.data(\"state\") === \"editable\") {\r\n            this.makeNoteReadOnly(thisNote);\r\n        } else {\r\n            this.makeNoteEditable(thisNote);\r\n        }\r\n    }\r\n\r\n    makeNoteEditable(thisNote) {\r\n        thisNote.find('.edit-note').html('Cancel')\r\n        thisNote.find('.input-data').removeAttr('readonly').addClass('note-active');\r\n        thisNote.find('.update-note').css('display', 'inline');\r\n        thisNote.data(\"state\", \"editable\");\r\n    }\r\n\r\n    makeNoteReadOnly(thisNote) {\r\n        thisNote.find('.edit-note').html('Edit')\r\n        thisNote.find('.input-data').attr('readonly', 'readonly').removeClass('note-active');\r\n        thisNote.find('.update-note').css('display', 'hidden');\r\n        thisNote.data(\"state\", \"cancel\");\r\n    }\r\n\r\n    deleteNote(e) {\r\n        let thisNote = $(e.target).parents(\"div\");\r\n        $.ajax({\r\n            beforeSend: (xhr) => {\r\n                xhr.setRequestHeader('X-WP-NONCE', wplainData.nonce)\r\n            },\r\n            url: wplainData.root_url + '/wp-json/wp/v2/note/' + thisNote.data('id'),\r\n            type: 'DELETE',\r\n            success: (response) => {\r\n                thisNote.slideUp();\r\n                console.log(\"congrats\");\r\n                console.log(response);\r\n                if(response.userNoteCount <= 2 ) {\r\n                    $(\".note-limit\").css('display', 'none');\r\n                }\r\n            },\r\n            error: (response) => {\r\n                console.log(\"Sorry\");\r\n                console.log(response);\r\n            }\r\n        })\r\n    }\r\n\r\n    updateNote(e) {\r\n        let thisNote = $(e.target).parents(\"div\");\r\n\r\n        let ourUpdatedPost = {\r\n            'title': thisNote.find(\".title-field\").val(),\r\n            'content': thisNote.find(\".body-field\").val(),\r\n        }\r\n\r\n        $.ajax({\r\n            beforeSend: (xhr) => {\r\n                xhr.setRequestHeader('X-WP-NONCE', wplainData.nonce)\r\n            },\r\n            url: wplainData.root_url + '/wp-json/wp/v2/note/' + thisNote.data('id'),\r\n            type: 'POST',\r\n            data: ourUpdatedPost,\r\n            success: (response) => {\r\n                this.makeNoteReadOnly(thisNote);\r\n                console.log(\"congrats\");\r\n                console.log(response);\r\n            },\r\n            error: (response) => {\r\n                console.log(\"Sorry\");\r\n                console.log(response);\r\n            }\r\n        })\r\n    }\r\n\r\n    createNote() {\r\n        let ourNewPost = {\r\n            'title': $(\".new-note-title\").val(),\r\n            'content': $(\".new-note-body\").val(),\r\n            'status': 'private'\r\n        }\r\n\r\n        $.ajax({\r\n            beforeSend: (xhr) => {\r\n                xhr.setRequestHeader('X-WP-NONCE', wplainData.nonce)\r\n            },\r\n            url: wplainData.root_url + '/wp-json/wp/v2/note/',\r\n            type: 'POST',\r\n            data: ourNewPost,\r\n            success: (response) => {\r\n                $(\".new-note-title, .new-note-body\").val('');\r\n                $(`\r\n                <div data-id=\"${response.id}\">\r\n                        <label>\r\n                            <input readonly class=\"input-data title-field\" value=\"${response.title.raw}\">\r\n                        </label>\r\n                        <label>\r\n                            <textarea class=\"input-data body-field\" readonly> ${response.content.raw}</textarea>\r\n                        </label>\r\n                        <button class=\"edit-note\">Edit</button>\r\n                        <button style=\"display: none\" class=\"update-note\">Save</button>\r\n                        <button class=\"delete-note\">Delete</button>\r\n                 </div>\r\n                `).prependTo(\"#my-notes\").hide().slideDown();\r\n                console.log(\"Congrats\");\r\n                console.log(response);\r\n            },\r\n            error: (response) => {\r\n                if (response.responseText == \"You have reached your notes limit\") {\r\n                    $(\".note-limit\").css('display', 'inline');\r\n                }\r\n                console.log(\"Sorry\");\r\n                console.log(response);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default MyNotes\r\n\r\n\r\n","module.exports = window[\"jQuery\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import MyNotes from './module/MyNotes'\r\n\r\nconst myNotes = new MyNotes();\r\n"],"names":["$","MyNotes","constructor","events","on","deleteNote","editNote","bind","updateNote","createNote","e","thisNote","target","parents","data","makeNoteReadOnly","makeNoteEditable","find","html","removeAttr","addClass","css","attr","removeClass","ajax","beforeSend","xhr","setRequestHeader","wplainData","nonce","url","root_url","type","success","response","slideUp","console","log","userNoteCount","error","ourUpdatedPost","val","ourNewPost","id","title","raw","content","prependTo","hide","slideDown","responseText","myNotes"],"sourceRoot":""}